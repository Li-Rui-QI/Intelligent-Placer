# Intelligent-Placer
## Постановка задачи
Требуется создать проект “Intelligent Placer”: по поданной на вход фотографии нескольких предметов（1-5 предметов）на светлой горизонтальной поверхности и многоугольнику определяется, можно ли расположить одновременно все эти предметы на плоскости , чтобы они поместились в заданный многоугольник.

## Вход и выход
Вход: Фотография в формате jpg.  
Выход: Ответ в текстовом формате, записанный в файл result:  
"True" - Прогнозируемый результат совпадает с фактическим результатом;  
"Fasle" - Прогнозируемый результат не совпадает с фактическим результатом.  

## Требования к входным данным
Фотография：
1. Освещение равномерное.
2. фото должно иметь расширение .png или .jpg.
3. Фотография делается вертикально.
4. фон фото является cветлой горизонтальной поверхностей.
5. Отсутствие размытости фотографии.
6. Расстояние между камерой и поверхностью должно быть таким, чтобы на получившейся фотографии были легко отличимы предметы и видна была граница.

Предметы:
1. Предметы не должны выходить за границей кадра.
2. предметы не должны перекрывать друг друга.
3. один предмет может присутствовать на фото лишь 1 раз.
4. предметы могут иметь разные ориентации/направление.

Многоугольнику:
1. количество ребер многоугольника должно быть явно различимо.
2. Число вершин многоугольника не более 10.
3. Многоугольник нарисован на чистом белом листе формата А4(если сумма площадей предметов больше площади многоугольника - не получится);
4. Лист должен быть чистой.

## План решения
0. Сортировка фотографий по номеру в названии от меньшего к большему.
1. Найти края на изображении.
   1. Шумоподавление.
   2. Применение метода Canny для поиска границы.
2. Отфильтровать лишние края, оставив только многоугольник и объект.
   1. Увеличить толщину границы.
   2. Применить метод наводнение чтобы выделить внутренность многоугольника.
   3. Объединить объекты, границу многоугольника с внутренностью многоугольника,Удаляйте границы и выделяйте многоугольники.
   4. Для того, чтобы легко различать, мы установили фон - 0,объект - 128,многоугольник 255.
3. Удалось разместить без пересечений предметы внутри многоугольника.
   1. Найти минимальный прямоугольник, охыватывающий объект и многоугольник. Для лучшего различия я установил их как *object_area_coords* и *area_crop_coords*. 
   2. Рассчитать их площадь.
   3. Сравним размер этих двух параметров(object,area),если площадь объединении объекта < площадь многоугольники то возвращаем ответ False. 
   4. В этой ситуации： площадь объединении объекта > площадь многоугольники нам нужно пройтись по массиву, чтобы далее определить, можно ли разместить объект в прямоугольник.
   5. Покрасить часть матрица[i -- i + длина Obj, j -- j + ширина Obj], не являющуюся фоном, серым цветом.
   6. Получаем объединение объекта(object) и многоугольника(area).
   7. Если площадь части объединения, не являющейся фоном, равна sourceArea, то можем сказать, что объект помещается внутрь многоугольника. В противном случае,нет 
4. Соберите результаты и представьте.
   Записываем результат в файл.
Замечание：Мы обнаружили, что для результатов прогнозирования одного объекта уровень точности очень высок , а результаты прогнозирования нескольких объектов будут ошибочно предсказаны. Это связано с тем, что при вычислении нескольких объектов они будут рассматриваться целое объект, что приведет к увеличению площади, что резельтат не правильно. Есть много факторов, которые будут влиять на точность результатов: есть ли свет, угол съемки, фон съемки, отражает ли объект.
